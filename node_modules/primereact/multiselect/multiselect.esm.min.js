import*as e from"react";import t,{PrimeReactContext as n,localeOption as l,FilterService as r}from"primereact/api";import{ComponentBase as o,useHandleStyle as i}from"primereact/componentbase";import{useMergeProps as a,useUpdateEffect as c,useMountEffect as u,useOverlayListener as s,useUnmountEffect as p}from"primereact/hooks";import{ChevronDownIcon as f}from"primereact/icons/chevrondown";import{SpinnerIcon as d}from"primereact/icons/spinner";import{TimesIcon as m}from"primereact/icons/times";import{TimesCircleIcon as b}from"primereact/icons/timescircle";import{OverlayService as h}from"primereact/overlayservice";import{Tooltip as v}from"primereact/tooltip";import{classNames as y,ObjectUtils as g,DomHandler as O,IconUtils as x,UniqueComponentId as k,ZIndexUtils as E}from"primereact/utils";import{CSSTransition as I}from"primereact/csstransition";import{Portal as S}from"primereact/portal";import{VirtualScroller as w}from"primereact/virtualscroller";import{CheckIcon as C}from"primereact/icons/check";import{SearchIcon as N}from"primereact/icons/search";import{InputText as P}from"primereact/inputtext";import{Ripple as F}from"primereact/ripple";function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},j.apply(this,arguments)}function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,t){if("object"!==D(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!==D(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function A(e){var t=L(e,"string");return"symbol"===D(t)?t:String(t)}function T(e,t,n){return(t=A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}function M(e){if(Array.isArray(e))return R(e)}function G(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function K(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function V(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e){return M(e)||G(e)||K(e)||V()}function J(e){throw new TypeError('"'+e+'" is read-only')}function X(e){if(Array.isArray(e))return e}function _(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,o,i,a=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(l=o.call(n)).done)&&(a.push(l.value),a.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){return X(e)||_(e,t)||K(e,t)||B()}var U=o.extend({defaultProps:{__TYPE:"MultiSelect",appendTo:null,ariaLabelledBy:null,checkboxIcon:null,className:null,clearIcon:null,closeIcon:null,dataKey:null,disabled:!1,display:"comma",dropdownIcon:null,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterInputAutoFocus:!0,filterLocale:void 0,selectOnFocus:!1,autoOptionFocus:!1,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,fixedPlaceholder:!1,flex:!1,id:null,inline:!1,inputId:null,inputRef:null,itemCheckboxIcon:null,itemClassName:null,itemTemplate:null,loading:!1,maxSelectedLabels:null,name:null,onBlur:null,onChange:null,onClick:null,onFilter:null,onFocus:null,onHide:null,onRemove:null,onSelectAll:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,overlayVisible:!1,panelClassName:null,panelFooterTemplate:null,panelHeaderTemplate:null,panelStyle:null,placeholder:null,removeIcon:null,resetFilterOnHide:!1,scrollHeight:"200px",selectAll:!1,selectAllLabel:null,selectedItemTemplate:null,selectedItemsLabel:"{0} items selected",selectionLimit:null,showClear:!1,showSelectAll:!0,style:null,tabIndex:0,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,virtualScrollerOptions:null,children:void 0},css:{classes:{root:function(e){var t=e.props,n=e.focusedState,l=e.overlayVisibleState;return y("p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":"chip"===t.display,"p-disabled":t.disabled,"p-multiselect-clearable":t.showClear&&!t.disabled,"p-focus":n,"p-inputwrapper-filled":g.isNotEmpty(t.value),"p-inputwrapper-focus":n||l})},label:function(e){var t=e.props,n=e.empty;return y("p-multiselect-label",{"p-placeholder":n&&t.placeholder,"p-multiselect-label-empty":n&&!t.placeholder&&!t.selectedItemTemplate,"p-multiselect-items-label":!n&&"chip"!==t.display&&t.value.length>t.maxSelectedLabels})},panel:function(e){var n=e.panelProps,l=e.context;return y("p-multiselect-panel p-component",{"p-multiselect-inline":n.inline,"p-multiselect-flex":n.flex,"p-multiselect-limited":!e.allowOptionSelect,"p-input-filled":l&&"filled"===l.inputStyle||"filled"===t.inputStyle,"p-ripple-disabled":l&&!1===l.ripple||!1===t.ripple})},list:function(e){return"p-multiselect-items p-component"},labelContainer:"p-multiselect-label-container",triggerIcon:"p-multiselect-trigger-icon p-c",trigger:"p-multiselect-trigger",clearIcon:"p-multiselect-clear-icon",tokenLabel:"p-multiselect-token-label",token:"p-multiselect-token",removeTokenIcon:"p-multiselect-token-icon",wrapper:"p-multiselect-items-wrapper",emptyMessage:"p-multiselect-empty-message",itemGroup:"p-multiselect-item-group",closeButton:"p-multiselect-close p-link",header:"p-multiselect-header",closeIcon:"p-multiselect-close-icon",headerCheckboxContainer:"p-multiselect-select-all",headerCheckboxIcon:"p-multiselect-select-all p-checkbox-icon p-c",headerSelectAllLabel:"p-multiselect-select-all-label",filterContainer:"p-multiselect-filter-container",filterIcon:"p-multiselect-filter-icon",item:function(e){var t=e.itemProps;return y("p-multiselect-item",{"p-highlight":t.selected,"p-disabled":t.disabled,"p-focus":t.focusedOptionIndex===t.index})},checkboxContainer:"p-checkbox p-component",checkboxIcon:"p-checkbox-icon p-c",checkbox:function(e){return y("p-checkbox-box",{"p-highlight":e.itemProps.selected})},transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-multiselect {\n        display: inline-flex;\n        user-select: none;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-trigger {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label-container {\n        overflow: hidden;\n        flex: 1 1 auto;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label  {\n        display: block;\n        white-space: nowrap;\n        cursor: pointer;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    \n    .p-multiselect-label-empty {\n        overflow: hidden;\n        visibility: hidden;\n    }\n    \n    .p-multiselect-token {\n        cursor: default;\n        display: inline-flex;\n        align-items: center;\n        flex: 0 0 auto;\n    }\n    \n    .p-multiselect-token-icon {\n        cursor: pointer;\n    }\n    \n    .p-multiselect .p-multiselect-panel {\n        min-width: 100%;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel {\n        border: none;\n        position: initial;\n        background: none;\n        box-shadow: none;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel .p-multiselect-items {\n        padding: 0;\n    }\n    \n    .p-multiselect-flex.p-multiselect-panel .p-multiselect-items {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    \n    .p-multiselect-items-wrapper {\n        overflow: auto;\n    }\n    \n    .p-multiselect-items {\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n    }\n    \n    .p-multiselect-item {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        font-weight: normal;\n        white-space: nowrap;\n        position: relative;\n        overflow: hidden;\n        outline: none;\n    }\n    \n    .p-multiselect-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n    .p-multiselect-select-all-label {\n        margin-left: 0.5rem;\n    }\n    \n    .p-multiselect-filter-container {\n        position: relative;\n        flex: 1 1 auto;\n    }\n    \n    .p-multiselect-filter-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    .p-multiselect-filter-container .p-inputtext {\n        width: 100%;\n    }\n    \n    .p-multiselect-close {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        overflow: hidden;\n        position: relative;\n        margin-left: auto;\n    }\n    \n    .p-multiselect-clear-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        right: 3rem;\n    }\n    \n    .p-fluid .p-multiselect {\n        display: flex;\n    }\n}\n",inlineStyles:{root:function(e){var t=e.props;return t.showClear&&!t.disabled&&{position:"relative"}},itemGroup:function(e){var t=e.scrollerOptions;return{height:t.props?t.props.itemSize:void 0}}}}}),z=o.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,name:null,onChange:null,onClick:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:{icon:"p-checkbox-icon p-c",input:function(e){return y("p-checkbox-box",{"p-highlight":e.checked,"p-disabled":e.props.disabled,"p-focus":e.focusedState})},root:function(e){return y("p-checkbox p-component",{"p-checkbox-checked":e.checked,"p-checkbox-disabled":e.props.disabled,"p-checkbox-focused":e.focusedState})}},styles:"\n.p-checkbox {\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    vertical-align: bottom;\n    position: relative;\n}\n\n.p-checkbox.p-checkbox-disabled {\n    cursor: auto;\n}\n\n.p-checkbox-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}        \n"}});function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=e.memo(e.forwardRef((function(t,l){var r=a(),o=e.useContext(n),s=z.getProps(t,o),p=q(e.useState(!1),2),f=p[0],d=p[1],m=z.setMetaData({props:s,state:{focused:f},context:{checked:s.checked===s.trueValue,disabled:s.disabled}}),b=m.ptm,h=m.cx;i(z.css.styles,m.isUnstyled,{name:"checkbox",styled:!0});var k=e.useRef(null),E=e.useRef(s.inputRef),I=function(e){if(!s.disabled&&!s.readOnly&&(s.onChange||s.onClick)){var t=S(),n=e.target instanceof HTMLDivElement||e.target instanceof HTMLSpanElement||e.target instanceof Object,l=e.target===E.current,r=n&&e.target.checked!==t,o=t?s.falseValue:s.trueValue,i={originalEvent:e,value:s.value,checked:o,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{type:"checkbox",name:s.name,id:s.id,value:s.value,checked:o}};if(s.onClick&&s.onClick(i),e.defaultPrevented)return;(l||r)&&s.onChange&&s.onChange(i),O.focus(E.current),e.preventDefault()}},S=function(){return s.checked===s.trueValue};e.useImperativeHandle(l,(function(){return{props:s,focus:function(){return O.focus(E.current)},getElement:function(){return k.current},getInput:function(){return E.current}}})),e.useEffect((function(){g.combinedRefs(E,s.inputRef)}),[E,s.inputRef]),c((function(){E.current.checked=S()}),[s.checked,s.trueValue]),u((function(){s.autoFocus&&O.focus(E.current,s.autoFocus)}));var w=S(),N=g.isNotEmpty(s.tooltip),P=z.getOtherProps(s),F=g.reduceKeys(P,O.ARIA_PROPS),D=r({className:h("icon")},b("icon")),L=x.getJSXIcon(w?s.icon||e.createElement(C,D):null,Y({},D),{props:s,checked:w}),A=r({id:s.id,className:y(s.className,h("root",{checked:w,focusedState:f})),style:s.style,onClick:function(e){return I(e)},"data-p-highlight":w,"data-p-disabled":s.disabled,onContextMenu:s.onContextMenu,onMouseDown:s.onMouseDown},P,b("root")),T=r({className:"p-hidden-accessible"},b("hiddenInputWrapper")),R=r(Y({id:s.inputId,type:"checkbox",name:s.name,tabIndex:s.tabIndex,defaultChecked:w,onFocus:function(e){d(!0)},onBlur:function(e){d(!1)},onKeyDown:function(e){var t;"Space"!==(t=e).code&&" "!==t.key||I(t)},disabled:s.disabled,readOnly:s.readOnly,required:s.required},F),b("hiddenInput")),M=r({className:h("input",{checked:w,focusedState:f}),"data-p-highlight":w,"data-p-disabled":s.disabled,"data-p-focus":f},b("input"));return e.createElement(e.Fragment,null,e.createElement("div",j({ref:k},A),e.createElement("div",T,e.createElement("input",j({ref:E},R))),e.createElement("div",M,L)),N&&e.createElement(v,j({target:k,content:s.tooltip,pt:b("tooltip")},s.tooltipOptions)))})));function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Z.displayName="Checkbox";var ee=e.memo((function(t){var n=a(),r=t.ptm,o=t.cx,i=t.isUnstyled,c={filter:function(e){return s(e)},reset:function(){return t.resetFilter()}},u=function(e,n){return r(e,Q({hostName:t.hostName},n))},s=function(e){t.onFilter&&t.onFilter({originalEvent:e,query:e.target.value})},p=function(e){t.onSelectAll&&t.onSelectAll({originalEvent:e,checked:t.selectAll}),e.preventDefault(),e.stopPropagation()},f=function(){var l=n({className:o("filterIcon")},u("filterIcon")),i=x.getJSXIcon(t.filterIcon||e.createElement(N,l),Q({},l),{props:t});if(t.filter){var a=n({className:o("filterContainer")},u("filterContainer")),p=e.createElement("div",a,e.createElement(P,{ref:t.filterRef,type:"text",role:"textbox",value:t.filterValue,onChange:s,className:"p-multiselect-filter",placeholder:t.filterPlaceholder,pt:r("filterInput"),__parentMetadata:{parent:t.metaData}}),i);if(t.filterTemplate)p=g.getJSXElement(t.filterTemplate,{className:a.className,element:p,filterOptions:c,onFilter:s,filterIconClassName:t.filterIconClassName,props:t});return e.createElement(e.Fragment,null,p)}return null}(),d=t.id?t.id+"_selectall":k(),b=n({htmlFor:d,className:o("headerSelectAllLabel")},u("headerSelectAllLabel")),h=n({className:o("headerCheckboxIcon")},u("headerCheckboxIcon")),v=n({className:o("headerCheckboxContainer")},u("headerCheckboxContainer")),y=x.getJSXIcon(t.itemCheckboxIcon||e.createElement(C,h),Q({},h),{selected:t.selected}),O=t.showSelectAll&&e.createElement("div",v,e.createElement(Z,{id:d,checked:t.selectAll,onChange:p,role:"checkbox","aria-checked":t.selectAll,icon:y,pt:r("headerCheckbox"),unstyled:i()}),!t.filter&&e.createElement("label",b,t.selectAllLabel)),E=n({className:o("closeIcon"),"aria-hidden":!0},u("closeIcon")),I=x.getJSXIcon(t.closeIcon||e.createElement(m,E),Q({},E),{props:t}),S=n({className:o("header")},u("header")),w=n({type:"button",className:o("closeButton"),"aria-label":l("close"),onClick:t.onClose},u("closeButton")),j=e.createElement("button",w,I,e.createElement(F,null)),D=e.createElement("div",S,O,f,j);return t.template?g.getJSXElement(t.template,{className:"p-multiselect-header",checkboxElement:O,checked:t.selectAll,onChange:p,filterElement:f,closeElement:j,closeElementClassName:"p-multiselect-close p-link",closeIconClassName:"p-multiselect-close-icon",onCloseClick:t.onClose,element:D,itemCheckboxIcon:y,props:t}):D}));function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ee.displayName="MultiSelectHeader";var le=e.memo((function(t){var n=q(e.useState(!1),2),l=n[0],r=n[1],o=a(),i=t.ptm,c=t.cx,u=function(e){return i(e,{hostName:t.hostName,context:{selected:t.selected,disabled:t.disabled,focused:l,focusedIndex:t.focusedIndex,index:t.index}})},s=o({className:c("checkboxIcon")},u("checkboxIcon")),p=t.selected?x.getJSXIcon(t.checkboxIcon||e.createElement(C,s),ne({},s),{selected:t.selected}):null,f=t.template?g.getJSXElement(t.template,t.option):t.label,d=t.disabled?-1:t.tabIndex,m=o({className:c("checkboxContainer")},u("checkboxContainer")),b=o({className:c("checkbox",{itemProps:t}),"data-p-highlight":t.selected},u("checkbox")),h=o({className:y(t.className,t.option.className,c("item",{itemProps:t})),style:t.style,onClick:function(e){t.onClick&&t.onClick(e,t.option),e.preventDefault(),e.stopPropagation()},onFocus:function(e){r(!0)},onBlur:function(e){r(!1)},tabIndex:d,role:"option","aria-selected":t.selected,"data-p-highlight":t.selected,"data-p-disabled":t.disabled},u("item"));return e.createElement("li",h,e.createElement("div",m,e.createElement("div",b,p)),e.createElement("span",null,f),e.createElement(F,null))}));function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}le.displayName="MultiSelectItem";var ie=e.memo(e.forwardRef((function(t,r){var o=e.useRef(null),i=e.useRef(null),c=a(),u=e.useContext(n),s=t.ptm,p=t.cx,f=t.sx,d=t.isUnstyled,m=function(e,n){return s(e,oe({hostName:t.hostName},n))},b=function(){t.onEnter((function(){if(o.current){var e=t.getSelectedOptionIndex();-1!==e&&setTimeout((function(){return o.current.scrollToIndex(e)}),0)}}))},h=function(){t.onEntered((function(){t.filter&&t.filterInputAutoFocus&&i.current&&O.focus(i.current,!1)}))},v=function(e){o.current&&o.current.scrollToIndex(0),t.onFilterInputChange&&t.onFilterInputChange(e)},x=function(){if(t.panelFooterTemplate){var n=g.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide);return e.createElement("div",{className:"p-multiselect-footer"},n)}return null},k=function(n,l){return t.getOptionGroupChildren(n).map((function(n,r){var o=t.getOptionLabel(n),i=r+"_"+t.getOptionRenderKey(n),a=t.isOptionDisabled(n),c=a?null:t.tabIndex||0,u=t.isSelected(n);return e.createElement(le,{hostName:t.hostName,index:r,key:i,focusedOptionIndex:t.focusedOptionIndex,label:o,option:n,style:l,template:t.itemTemplate,selected:u,onClick:t.onOptionSelect,tabIndex:c,disabled:a,className:t.itemClassName,checkboxIcon:t.checkboxIcon,ptm:s,cx:p})}))},E=function(){var n=g.getJSXElement(t.emptyFilterMessage,t)||l("emptyFilterMessage"),r=c({className:p("emptyMessage")},m("emptyMessage"));return e.createElement("li",r,n)},C=function(n,l){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={height:r.props?r.props.itemSize:void 0};if(t.optionGroupLabel){var i=t.optionGroupTemplate?g.getJSXElement(t.optionGroupTemplate,n,l):t.getOptionGroupLabel(n),a=k(n,o),u=l+"_"+t.getOptionGroupRenderKey(n),d=c({className:p("itemGroup"),style:f("itemGroup",{scrollerOptions:r})},m("itemGroup"));return e.createElement(e.Fragment,{key:u},e.createElement("li",d,i),a)}var b=t.getOptionLabel(n),h=l+"_"+t.getOptionRenderKey(n),v=t.isOptionDisabled(n),y=v?null:t.tabIndex||0,O=t.isSelected(n);return e.createElement(le,{hostName:t.hostName,key:h,focusedOptionIndex:t.focusedOptionIndex,label:b,option:n,style:o,index:l,template:t.itemTemplate,selected:O,onClick:t.onOptionSelect,tabIndex:y,disabled:v,className:t.itemClassName,checkboxIcon:t.checkboxIcon,ptm:s,cx:p})},N=function(){if(t.virtualScrollerOptions){var n=oe(oe({},t.virtualScrollerOptions),{style:oe(oe({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:y("p-multiselect-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(e){return t.virtualScrollerOptions.onLazyLoad(oe(oe({},e),{filter:t.filterValue}))},itemTemplate:function(e,t){return e&&C(e,t.index,t)},contentTemplate:function(n){var l=t.visibleOptions&&t.visibleOptions.length||!t.hasFilter?n.children:E(),r=c({ref:n.contentRef,style:n.style,className:y(n.className,p("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox","aria-multiselectable":!0},m("list"));return e.createElement("ul",r,l)}});return e.createElement(w,j({ref:o},n,{pt:s("virtualScroller"),__parentMetadata:{parent:t.metaData}}))}var r,i,a=g.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(C):t.hasFilter?E():(r=g.getJSXElement(t.emptyMessage,t)||l("emptyMessage"),i=c({className:p("emptyMessage")},m("emptyMessage")),e.createElement("li",i,r)),u=c({className:p("wrapper"),style:{maxHeight:t.scrollHeight}},m("wrapper")),f=c({className:p("list"),role:"listbox","aria-multiselectable":!0},m("list"));return e.createElement("div",u,e.createElement("ul",f,a))},P=function(){var n=t.allowOptionSelect(),l=e.createElement(ee,{hostName:t.hostName,id:t.id,filter:t.filter,filterRef:i,filterValue:t.filterValue,filterTemplate:t.filterTemplate,onFilter:v,filterPlaceholder:t.filterPlaceholder,onClose:t.onCloseClick,showSelectAll:t.showSelectAll,selectAll:t.isAllSelected(),selectAllLabel:t.selectAllLabel,onSelectAll:t.onSelectAll,template:t.panelHeaderTemplate,resetFilter:t.resetFilter,closeIcon:t.closeIcon,filterIcon:t.filterIcon,itemCheckboxIcon:t.itemCheckboxIcon,ptm:s,cx:p,isUnstyled:d,metaData:t.metaData}),o=N(),a=x(),f=c({className:y(t.panelClassName,p("panel",{panelProps:t,context:u,allowOptionSelect:n})),style:t.panelStyle,onClick:t.onClick},m("panel"));if(t.inline)return e.createElement("div",j({ref:r},f),o,a);var g=c({classNames:p("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:b,onEntered:h,onExit:t.onExit,onExited:t.onExited},m("transition")),O=c({ref:t.firstHiddenFocusableElementOnOverlay,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:t.onFirstHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},s("hiddenFirstFocusableEl")),k=c({ref:t.lastHiddenFocusableElementOnOverlay,role:"presentation","aria-hidden":"true",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:t.onLastHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},s("hiddenLastFocusableEl"));return e.createElement(I,j({nodeRef:r},g),e.createElement("div",j({ref:r},f),e.createElement("span",O),l,o,a,e.createElement("span",k)))}();return t.inline?P:e.createElement(S,{element:P,appendTo:t.appendTo})})));function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=se(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}function se(e,t){if(e){if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}ie.displayName="MultiSelectPanel";var fe=e.memo(e.forwardRef((function(l,o){var k=a(),I=e.useContext(n),S=U.getProps(l,I),w=q(e.useState(null),2),C=w[0],N=w[1],P=q(e.useState(!1),2),F=P[0],D=P[1],L=q(e.useState(""),2),A=L[0],R=L[1],M=q(e.useState(-1),2),G=M[0],K=M[1],V=q(e.useState(!1),2),X=V[0],_=V[1],B=q(e.useState(S.inline),2),z=B[0],W=B[1],Y=e.useRef(null),Z=e.useRef(null),$=e.useRef(null),Q=e.useRef(null),ee=e.useRef(null),te=e.useRef(S.inputRef),ne=e.useRef(null),le=e.useRef(null),re=A&&A.trim().length>0,oe=g.isEmpty(S.value),ae=S.optionValue?null:S.dataKey,se={props:S,state:{filterState:A,focused:X,overlayVisible:z}},pe=U.setMetaData(se),fe=pe.ptm,de=pe.cx,me=pe.sx,be=pe.isUnstyled;i(U.css.styles,be,{name:"multiselect"});var he=q(s({target:Y,overlay:le,listener:function(e,t){t.valid&&("outside"===t.type?!Ge(e)&&!Ke(e)&&Re():Re())},when:z}),2),ve=he[0],ye=he[1],ge=function(e){var t=Ze&&e<vt.length-1?vt.slice(e+1).findIndex((function(e){return tt(e)})):-1;return t>-1?t+e+1:-1},Oe=function(e){var t=Ze&&e>0?g.findLastIndex(vt.slice(0,e),(function(e){return tt(e)})):-1;return t>-1?t:-1},xe=function(e){var t=-1;return Ze&&(t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1===(t=Oe(e))?ge(e):t:-1===(t=ge(e))?Oe(e):t),t>-1?t:e},ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===t&&(t=xe(n,!0)),-1===n&&(n=xe(t)),-1!==t&&-1!==n){var l=Math.min(t,n),r=Math.max(t,n),o=vt.slice(l,r+1).filter((function(e){return et(e)})).map((function(e){return qe(e)}));De(e,o)}},Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(!S.disabled&&!ze(t)){var l=null;l=Je(t)?S.value.filter((function(e){return!g.equals(e,qe(t),ae)})):[].concat(H(S.value||[]),[qe(t)]),De(e,l),-1!==n&&N(n)}},Ie=function(e){if(z){var t=-1!==C?at(C):F?ot():lt();e.shiftKey&&ke(e,G,t),st(e,t)}else Te(),S.editable&&st(e,nt());e.preventDefault()},Se=function(e){if(e.altKey&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))-1!==C&&Ee(e,vt[C]),z&&Re(),e.preventDefault();else{var t=-1!==C?ct(C):F?it():rt();st(e,t),!z&&Te(),e.preventDefault()}},we=function(e){z?-1!==C&&(e.shiftKey?ke(e,C):Ee(e,vt[C])):(N(-1),Ie(e)),e.preventDefault()},Ce=function(e){var t=e.currentTarget;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){t.setSelectionRange(0,e.shiftKey?t.value.length:0),N(-1)}else{var n=e.metaKey||e.ctrlKey,l=ot();e.shiftKey&&n&&ke(e,l,G),st(e,l),!z&&Te()}e.preventDefault()},Ne=function(e){var t=e.currentTarget;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var n=t.value.length;t.setSelectionRange(e.shiftKey?0:n,n),J("focusedOptionIndex")}else{var l=e.metaKey||e.ctrlKey,r=it();e.shiftKey&&l&&ke(e,G,r),st(e,r),!z&&Te()}e.preventDefault()},Pe=function(e){e.preventDefault()},Fe=function(e){e.preventDefault()},je=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(z&&$e()?(O.focus(e.shiftKey?ee.current:Q.current),e.preventDefault()):(-1!==C&&Ee(e,vt[C]),z&&Re(filter)))},De=function(e,t,n){S.onChange&&S.onChange({originalEvent:e,value:t,selectedOption:n,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},target:{name:S.name,id:S.id,value:t}})},Le=function(){R(""),S.onFilter&&S.onFilter({filter:""})},Ae=function(){var e=O.findSingle(le.current,'li[data-p-highlight="true"]');e&&e.scrollIntoView&&e.scrollIntoView({block:"nearest",inline:"nearest"})},Te=function(){W(!0),N(-1!==C?C:S.autoOptionFocus?lt():nt()),O.focus(te.current)},Re=function(){N(-1),W(!1),D(!1)},Me=function(){O.alignOverlay(le.current,ne.current.parentElement,S.appendTo||I&&I.appendTo||t.appendTo)},Ge=function(e){return"clearicon"===O.getAttribute(e.target,"data-pc-section")},Ke=function(e){return"headercheckboxcontainer"===O.getAttribute(e.target,"data-pc-section")},Ve=function(e){return le.current&&le.current.contains(e.target)},He=function(e,t){return t.findIndex((function(t){return e.some((function(e){return g.equals(e,qe(t),ae)}))}))},Je=function(e){if(S.value){var t=qe(e),n=We(e);return S.value.some((function(e){return g.equals(n?e:qe(e),t,ae)}))}return!1},Xe=function(e){var t;if(S.options)if(S.optionGroupLabel){var n,l=ue(S.options);try{for(l.s();!(n=l.n()).done;){if(t=_e(e,Ue(n.value)))break}}catch(e){l.e(e)}finally{l.f()}}else t=_e(e,S.options),g.isEmpty(t)&&(t=_e(e,S.value));return t?Be(t):null},_e=function(e,t){return t.find((function(t){return g.equals(qe(t),e,ae)}))},Be=function(e){return S.optionLabel?g.resolveFieldData(e,S.optionLabel):e&&void 0!==e.label?e.label:e},qe=function(e){if(S.useOptionAsValue)return e;if(S.optionValue){var t=g.resolveFieldData(e,S.optionValue);return null!==t?t:e}return e&&void 0!==e.value?e.value:e},Ue=function(e){return g.resolveFieldData(e,S.optionGroupChildren)},ze=function(e){return S.optionDisabled?g.isFunction(S.optionDisabled)?S.optionDisabled(e):g.resolveFieldData(e,S.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled},We=function(e){return!S.useOptionAsValue&&S.optionValue||e&&void 0!==e.value},Ye=function(e){return S.optionGroupLabel&&e.optionGroup&&e.group},Ze=function(){return g.isNotEmpty(S.value)},$e=function(){return O.getFocusableElements(le.current,':not([data-p-hidden-focusable="true"])').length>0},Qe=function(e){var t;return et(e)&&(null===(t=Be(e))||void 0===t?void 0:t.toLocaleLowerCase(S.filterLocale).startsWith(Z.current.toLocaleLowerCase(S.filterLocale)))},et=function(e){return g.isNotEmpty(e)&&!(ze(e)||Ye(e))},tt=function(e){return et(e)&&Je(e)},nt=function(){if(Ze())for(var e,t=function(){var e=S.value[n],t=vt.findIndex((function(t){return tt(t)&&(n=e,l=qe(t),g.equals(n,l,ae));var n,l}));if(t>-1)return{v:t}},n=S.value.length-1;n>=0;n--)if(e=t())return e.v;return-1},lt=function(){var e=nt();return e<0?ot():e},rt=function(){var e=nt();return e<0?it():e},ot=function(){return vt.findIndex((function(e){return et(e)}))},it=function(){return g.findLastIndex(vt,(function(e){return et(e)}))},at=function(e){var t=e<vt.length-1?vt.slice(e+1).findIndex((function(e){return et(e)})):-1;return t>-1?t+e+1:e},ct=function(e){var t=e>0?g.findLastIndex(vt.slice(0,e),(function(e){return et(e)})):-1;return t>-1?t:e},ut=function(e){Z.current=(Z.current||"")+e.key;var t=-1;g.isNotEmpty(Z.current)&&(-1===(t=-1!==C?-1===(t=vt.slice(C).findIndex((function(e){return Qe(e)})))?vt.slice(0,C).findIndex((function(e){return Qe(e)})):t+C:vt.findIndex((function(e){return Qe(e)})))&&-1===C&&(t=lt()),-1!==t&&st(e,t)),$.current&&clearTimeout($.current),$.current=setTimeout((function(){Z.current="",$.current=null}),500)},st=function(e,t){C!==t&&(N(t),Ae(),S.selectOnFocus&&Ee(e,vt[t],!1))},pt=function(e,t){var n=S.value.filter((function(e){return!g.equals(e,t,ae)}));S.onRemove&&S.onRemove({originalEvent:e,value:n}),De(e,n,t)},ft=function(){var e=/{(.*?)}/;return e.test(S.selectedItemsLabel)?S.selectedItemsLabel.replace(S.selectedItemsLabel.match(e)[0],S.value.length+""):S.selectedItemsLabel},dt=function(){if(!oe&&!S.fixedPlaceholder)return g.isNotEmpty(S.maxSelectedLabels)&&S.value.length>S.maxSelectedLabels?ft():g.isArray(S.value)?S.value.reduce((function(e,t,n){return e+(0!==n?", ":"")+Xe(t)}),""):""};e.useImperativeHandle(o,(function(){return{props:S,show:Te,hide:Re,focus:function(){return O.focus(te.current)},getElement:function(){return Y.current},getOverlay:function(){return le.current},getInput:function(){return te.current}}})),u((function(){Me()})),e.useEffect((function(){g.combinedRefs(te,S.inputRef)}),[te,S.inputRef]),e.useEffect((function(){setTimeout((function(){S.overlayVisible?Te():Re()}),100)}),[S.overlayVisible]),c((function(){z&&A&&re&&Me()}),[z,A,re]),p((function(){E.clear(le.current)}));var mt,bt,ht,vt=function(){if(re){var e=A.trim().toLocaleLowerCase(S.filterLocale),t=S.filterBy?S.filterBy.split(","):[S.optionLabel||"label"];if(S.optionGroupLabel){var n,l=[],o=ue(S.options);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=r.filter(Ue(i),t,e,S.filterMatchMode,S.filterLocale);a&&a.length&&l.push(ce(ce({},i),T({},S.optionGroupChildren,a)))}}catch(e){o.e(e)}finally{o.f()}return l}return r.filter(S.options,t,e,S.filterMatchMode,S.filterLocale)}return S.options}(),yt=g.isNotEmpty(S.tooltip),gt=U.getOtherProps(S),Ot=g.reduceKeys(gt,O.ARIA_PROPS),xt=k({className:de("triggerIcon")},fe("triggerIcon")),kt=k({className:de("trigger")},fe("trigger")),Et=S.loadingIcon?x.getJSXIcon(S.loadingIcon,ce({},xt),{props:S}):e.createElement(d,j({spin:!0},xt)),It=S.dropdownIcon?x.getJSXIcon(S.dropdownIcon,ce({},xt),{props:S}):e.createElement(f,xt),St=e.createElement("div",kt,S.loading?Et:It),wt=!S.inline&&(mt=S.selectedItemTemplate?oe?g.getJSXElement(S.selectedItemTemplate):g.isNotEmpty(S.maxSelectedLabels)&&S.value.length>S.maxSelectedLabels?ft():S.value.map((function(t,n){var l=g.getJSXElement(S.selectedItemTemplate,t);return e.createElement(e.Fragment,{key:n},l)})):"chip"!==S.display||oe?dt():S.value.slice(0,S.maxSelectedLabels||S.value.length).map((function(t,n){var l={context:{value:t,index:n}},r=Xe(t),o=k({key:n,className:de("removeTokenIcon"),onClick:function(e){return pt(e,t)}},fe("removeTokenIcon",l)),i=!S.disabled&&(S.removeIcon?x.getJSXIcon(S.removeIcon,ce({},o),{props:S}):e.createElement(b,o)),a=k({className:de("token")},fe("token",l)),c=k({key:r+n,className:de("tokenLabel")},fe("tokenLabel",l));return e.createElement("div",j({},a,{key:r}),e.createElement("span",c,r),i)})),bt=k({ref:ne,className:de("labelContainer")},fe("labelContainer")),ht=k({className:de("label",{empty:oe})},fe("label")),e.createElement("div",bt,e.createElement("div",ht,mt||S.placeholder||"empty"))),Ct=!S.inline&&function(){var t=k({className:de("clearIcon"),onClick:function(e){return De(e,[],[])}},fe("clearIcon")),n=x.getJSXIcon(S.clearIcon||e.createElement(m,t),ce({},t),{props:S});return oe||!S.showClear||S.disabled?null:n}(),Nt=k(ce(ce({ref:Y,id:S.id,style:ce(ce({},S.style),me("root")),className:y(S.className,de("root",{focusedState:X,overlayVisibleState:z}))},gt),{},{onClick:function(e){S.inline||S.disabled||S.loading||Ve(e)||"removetokenicon"===O.getAttribute(e.target,"data-pc-section")||Ge(e)||(z?Re():Te(),O.focus(te.current),e.preventDefault()),D(!0)}}),U.getOtherProps(S),fe("root")),Pt=k({className:"p-hidden-accessible","data-p-hidden-accessible":!0},fe("hiddenInputWrapper")),Ft=k(ce({ref:te,id:S.inputId,name:S.name,type:"text",onFocus:function(e){_(!0),S.onFocus&&S.onFocus(e)},onBlur:function(e){_(!1),S.onBlur&&S.onBlur(e)},onKeyDown:function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowUp":if(S.inline)break;Se(e);break;case"ArrowDown":if(S.inline)break;Ie(e);break;case"Space":case"NumpadEnter":case"Enter":if(S.inline)break;we(e);break;case"Home":if(S.inline)break;Ce(e),e.preventDefault();break;case"End":if(S.inline)break;Ne(e),e.preventDefault();break;case"PageDown":Fe(e);break;case"PageUp":Pe(e);break;case"Escape":if(S.inline)break;Re();break;case"Tab":je(e);break;case"ShiftLeft":case"ShiftRight":K(C);break;default:if("KeyA"===e.code&&t){var n=vt.filter((function(e){return et(e)})).map((function(e){return qe(e)}));De(e,n),e.preventDefault();break}!t&&g.isPrintableCharacter(e.key)&&(!z&&Te(),ut(e),e.preventDefault())}D(!1)},role:"listbox","aria-expanded":z,disabled:S.disabled,tabIndex:S.disabled?-1:S.tabIndex},Ot),fe("input"));return e.createElement(e.Fragment,null,e.createElement("div",Nt,e.createElement("div",Pt,e.createElement("input",j({},Ft,{readOnly:!0}))),!S.inline&&e.createElement(e.Fragment,null,wt,Ct,St),e.createElement(ie,j({hostName:"MultiSelect",ref:le,visibleOptions:vt},S,{onClick:function(e){h.emit("overlay-click",{originalEvent:e,target:Y.current})},onOverlayHide:Re,filterValue:A,focusedOptionIndex:C,onFirstHiddenFocus:function(e){var t=e.relatedTarget===te.current?O.getFirstFocusableElement(le.current,':not([data-p-hidden-focusable="true"])'):te.current;O.focus(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===te.current?O.getLastFocusableElement(le.current,':not([data-p-hidden-focusable="true"])'):te.current;O.focus(t)},firstHiddenFocusableElementOnOverlay:Q,lastHiddenFocusableElementOnOverlay:ee,setFocusedOptionIndex:N,hasFilter:re,onFilterInputChange:function(e){var t=e.query;R(t),S.onFilter&&S.onFilter({originalEvent:e,filter:t})},resetFilter:Le,onCloseClick:function(e){Re(),O.focus(te.current),e.preventDefault(),e.stopPropagation()},onSelectAll:function(e){if(S.onSelectAll)S.onSelectAll(e);else{var t=null;if(e.checked){if(t=[],vt){var n=vt.filter((function(e){return ze(e)&&Je(e)}));t=n.map((function(e){return qe(e)}))}}else if(vt){var l=vt.filter((function(e){return!ze(e)||Je(e)}));S.optionGroupLabel?(t=[],l.forEach((function(e){return t=[].concat(H(t),H(Ue(e).filter((function(e){return!ze(e)})).map((function(e){return qe(e)}))))}))):t=l.map((function(e){return qe(e)}))}De(e.originalEvent,t,t)}},getOptionLabel:Be,getOptionRenderKey:function(e){return S.dataKey?g.resolveFieldData(e,S.dataKey):Be(e)},isOptionDisabled:ze,getOptionGroupChildren:Ue,getOptionGroupLabel:function(e){return g.resolveFieldData(e,S.optionGroupLabel)},getOptionGroupRenderKey:function(e){return g.resolveFieldData(e,S.optionGroupLabel)},isSelected:Je,getSelectedOptionIndex:function(){if(null!=S.value&&S.options){if(S.optionGroupLabel){var e=0,t=S.options.findIndex((function(t,n){return(e=n)&&-1!==He(S.value,Ue(t))}));return-1!==t?{group:e,option:t}:-1}return He(S.value,S.options)}return-1},isAllSelected:function(){if(S.onSelectAll)return S.selectAll;if(g.isEmpty(vt))return!1;var e=vt.filter((function(e){return!ze(e)}));if(S.optionGroupLabel){var t,n=!0,l=ue(e);try{for(l.s();!(t=l.n()).done;){!0===Ue(t.value).filter((function(e){return!ze(e)})).some((function(e){return!Je(e)}))&&(n=!1)}}catch(e){l.e(e)}finally{l.f()}return n}return!e.some((function(e){return!Je(e)}))},onOptionSelect:Ee,allowOptionSelect:function(){return!S.selectionLimit||!S.value||S.value&&S.value.length<S.selectionLimit},in:z,onEnter:function(e){E.set("overlay",le.current,I&&I.autoZIndex||t.autoZIndex,I&&I.zIndex.overlay||t.zIndex.overlay),O.addStyles(le.current,{position:"absolute",top:"0",left:"0"}),Me(),Ae(),e&&e()},onEntered:function(e){e&&e(),ve(),S.onShow&&S.onShow()},onExit:function(){ye()},onExited:function(){S.filter&&S.resetFilterOnHide&&Le(),E.clear(le.current),S.onHide&&S.onHide()},ptm:fe,cx:de,sx:me,isUnstyled:be,metaData:se}))),yt&&e.createElement(v,j({target:Y,content:S.tooltip,pt:fe("tooltip")},S.tooltipOptions)))})));fe.displayName="MultiSelect";export{fe as MultiSelect};
