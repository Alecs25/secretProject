import*as e from"react";import n,{localeOption as t,PrimeReactContext as i}from"primereact/api";import{ComponentBase as a,useHandleStyle as r}from"primereact/componentbase";import{CSSTransition as l}from"primereact/csstransition";import{useMergeProps as o,useMountEffect as c,usePrevious as u,useResizeListener as s,useUpdateEffect as m,useInterval as p,useUnmountEffect as d}from"primereact/hooks";import{classNames as f,IconUtils as h,DomHandler as b,UniqueComponentId as v,mergeProps as g,ObjectUtils as I,ZIndexUtils as x}from"primereact/utils";import{TimesIcon as y}from"primereact/icons/times";import{Portal as w}from"primereact/portal";import{Ripple as S}from"primereact/ripple";import{ChevronLeftIcon as O}from"primereact/icons/chevronleft";import{ChevronRightIcon as E}from"primereact/icons/chevronright";import{ChevronDownIcon as N}from"primereact/icons/chevrondown";import{ChevronUpIcon as P}from"primereact/icons/chevronup";function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C.apply(this,arguments)}function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function j(e,n){if("object"!==T(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!==T(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function k(e){var n=j(e,"string");return"symbol"===T(n)?n:String(n)}function A(e,n,t){return(n=k(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){if(Array.isArray(e))return e}function R(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,l,o=[],c=!0,u=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=r.call(t)).done)&&(o.push(i.value),o.length!==n);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}function V(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function B(e,n){if(e){if("string"==typeof e)return V(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(e,n):void 0}}function H(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(e,n){return D(e)||R(e,n)||B(e,n)||H()}var _=a.extend({defaultProps:{__TYPE:"Galleria",activeIndex:0,autoPlay:!1,baseZIndex:0,caption:null,changeItemOnIndicatorHover:!1,children:void 0,circular:!1,className:null,closeIcon:null,footer:null,fullScreen:!1,header:null,id:null,indicator:null,indicatorsPosition:"bottom",item:null,itemNextIcon:null,itemPrevIcon:null,nextThumbnailIcon:null,numVisible:3,onHide:null,onItemChange:null,onShow:null,prevThumbnailIcon:null,responsiveOptions:null,showIndicators:!1,showIndicatorsOnItem:!1,showItemNavigators:!1,showItemNavigatorsOnHover:!1,showThumbnailNavigators:!0,showThumbnails:!0,style:null,thumbnail:null,thumbnailsPosition:"bottom",transitionInterval:4e3,transitionOptions:null,value:null,verticalThumbnailViewPortHeight:"300px"},css:{classes:{header:"p-galleria-header",footer:"p-galleria-footer",closeIcon:"p-galleria-close-icon",closeButton:"p-galleria-close p-link",root:function(e){var t=e.props,i=e.context;return f("p-galleria p-component",{"p-galleria-fullscreen":t.fullScreen,"p-galleria-indicator-onitem":t.showIndicatorsOnItem,"p-galleria-item-nav-onhover":t.showItemNavigatorsOnHover&&!t.fullScreen,"p-input-filled":i&&"filled"===i.inputStyle||"filled"===n.inputStyle,"p-ripple-disabled":i&&!1===i.ripple||!1===n.ripple},e.thumbnailsPosClassName,e.indicatorPosClassName)},content:"p-galleria-content",mask:function(e){return f("p-galleria-mask",{"p-galleria-visible":e.visibleState})},thumbnailItem:function(e){var n=e.subProps;return f("p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":n.current,"p-galleria-thumbnail-item-active":n.active,"p-galleria-thumbnail-item-start":n.start,"p-galleria-thumbnail-item-end":n.end})},thumbnailItemContent:"p-galleria-thumbnail-item-content",previousThumbnailIcon:"p-galleria-thumbnail-prev-icon",previousThumbnailButton:function(e){return f("p-galleria-thumbnail-prev p-link",{"p-disabled":e.isDisabled})},nextThumbnailIcon:"p-galleria-thumbnail-next-icon",nextThumbnailButton:function(e){return f("p-galleria-thumbnail-next p-link",{"p-disabled":e.isDisabled})},thumbnailContainer:"p-galleria-thumbnail-container",thumbnailItemsContainer:"p-galleria-thumbnail-items-container",thumbnailItems:"p-galleria-thumbnail-items",thumbnailWrapper:"p-galleria-thumbnail-wrapper",previousItemIcon:"p-galleria-item-prev-icon",previousItemButton:function(e){return f("p-galleria-item-prev p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},nextItemIcon:"p-galleria-item-next-icon",nextItemButton:function(e){return f("p-galleria-item-next p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},caption:"p-galleria-caption",indicator:function(e){return f("p-galleria-indicator",{"p-highlight":e.isActive})},indicators:"p-galleria-indicators p-reset",itemWrapper:"p-galleria-item-wrapper",itemContainer:"p-galleria-item-container",item:"p-galleria-item",transition:"p-galleria"},styles:"\n@layer primereact {\n    .p-galleria-content {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .p-galleria-item-wrapper {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n    \n    .p-galleria-item-container {\n        position: relative;\n        display: flex;\n        height: 100%;\n    }\n    \n    .p-galleria-item-nav {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-item-prev {\n        left: 0;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n    \n    .p-galleria-item-next {\n        right: 0;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    \n    .p-galleria-item {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        width: 100%;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-nav {\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity .2s ease-in-out;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav {\n        pointer-events: all;\n        opacity: 1;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled {\n        pointer-events: none;\n    }\n    \n    .p-galleria-caption {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n    }\n    \n    /* Thumbnails */\n    .p-galleria-thumbnail-wrapper {\n        display: flex;\n        flex-direction: column;\n        overflow: auto;\n        flex-shrink: 0;\n    }\n    \n    .p-galleria-thumbnail-prev,\n    .p-galleria-thumbnail-next {\n        align-self: center;\n        flex: 0 0 auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-galleria-thumbnail-prev span,\n    .p-galleria-thumbnail-next span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    \n    .p-galleria-thumbnail-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnail-items-container {\n        overflow: hidden;\n        width: 100%;\n    }\n    \n    .p-galleria-thumbnail-items {\n        display: flex;\n    }\n    \n    .p-galleria-thumbnail-item {\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        opacity: .5;\n    }\n    \n    .p-galleria-thumbnail-item:hover {\n        opacity: 1;\n        transition: opacity .3s;\n    }\n    \n    .p-galleria-thumbnail-item-current {\n        opacity: 1;\n    }\n    \n    /* Positions */\n    /* Thumbnails */\n    .p-galleria-thumbnails-left .p-galleria-content,\n    .p-galleria-thumbnails-right .p-galleria-content {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-right .p-galleria-item-wrapper {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-item-wrapper {\n        order: 2;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-thumbnail-wrapper {\n        order: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-container,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-container {\n        flex-direction: column;\n        flex-grow: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {\n        flex-direction: column;\n        height: 100%;\n    }\n    \n    /* Indicators */\n    .p-galleria-indicators {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-galleria-indicator > button {\n        display: inline-flex;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-wrapper,\n    .p-galleria-indicators-right .p-galleria-item-wrapper {\n        flex-direction: row;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-container,\n    .p-galleria-indicators-top .p-galleria-item-container {\n        order: 2;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-top .p-galleria-indicators {\n        order: 1;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-right .p-galleria-indicators {\n        flex-direction: column;\n    }\n    \n    .p-galleria-indicator-onitem .p-galleria-indicators {\n        position: absolute;\n        display: flex;\n        z-index: 1;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators {\n        top: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-start;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators {\n        right: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators {\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators {\n        left: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-start;\n    }\n    \n    /* FullScreen */\n    .p-galleria-mask {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: none;\n    }\n    \n    .p-galleria-mask.p-component-overlay {\n        pointer-events: auto;\n    }\n    \n    .p-galleria-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-mask .p-galleria-item-nav {\n        position: fixed;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    /* Animation */\n    .p-galleria-enter {\n        opacity: 0;\n        transform: scale(0.7);\n    }\n    \n    .p-galleria-enter-active {\n        opacity: 1;\n        transform: scale(1);\n        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-done {\n        transform: none;\n    }\n    \n    .p-galleria-exit {\n        opacity: 1;\n    }\n    \n    .p-galleria-exit-active {\n        opacity: 0;\n        transform: scale(0.7);\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-active .p-galleria-item-nav {\n        opacity: 0;\n    }\n    \n    /* Keyboard Support */\n    .p-items-hidden .p-galleria-thumbnail-item {\n        visibility: hidden;\n    }\n    \n    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {\n        visibility: visible;\n    }\n}\n",inlineStyles:{thumbnailItemsContainer:function(e){return{height:e.height}}}}});function G(e){if(Array.isArray(e))return V(e)}function L(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function W(e){return G(e)||L(e)||B(e)||M()}function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var J=e.memo(e.forwardRef((function(n,i){var a=o(),r=e.useRef(null),l=n.ptm,u=n.cx,s=function(e,t){return l(e,z({hostName:n.hostName},t))},m=function(){n.slideShowActive&&n.stopSlideShow&&n.stopSlideShow()},p=function(e){m(),n.onActiveItemChange({index:n.circular&&0===n.activeItemIndex?n.value.length-1:0!==n.activeItemIndex?n.activeItemIndex-1:0}),e&&e.cancelable&&e.preventDefault()},d=function(e){m(),n.onActiveItemChange({index:n.circular&&n.value.length-1===n.activeItemIndex?0:n.activeItemIndex+1}),e&&e.cancelable&&e.preventDefault()},v=function(e){m(),n.onActiveItemChange({index:e})},g=function(e){n.changeItemOnIndicatorHover&&(m(),n.onActiveItemChange({index:e}))},I=function(e,t){switch(e.code){case"Enter":case"Space":m(),n.onActiveItemChange({index:t}),e.preventDefault();break;case"ArrowRight":x();break;case"ArrowLeft":y();break;case"Home":w(),e.preventDefault();break;case"End":N(),e.preventDefault();break;case"Tab":P();break;case"ArrowDown":case"ArrowUp":case"PageUp":case"PageDown":e.preventDefault()}},x=function(){var e=W(b.find(r.current,'[data-pc-section="indicator"]')),n=T();j(n,n+1===e.length?e.length-1:n+1)},y=function(){var e=T();j(e,e-1<=0?0:e-1)},w=function(){var e=T();j(e,0)},N=function(){var e=W(b.find(r.current,'[data-pc-section="indicator"]')),n=T();j(n,e.length-1)},P=function(){var e=W(b.find(r.current,'[data-pc-section="indicator"]')),n=e.findIndex((function(e){return!0===b.getAttribute(e,"data-p-highlight")})),t=b.findSingle(r.current,'[data-pc-section="indicator"] > button[tabindex="0"]'),i=e.findIndex((function(e){return e===t.parentElement}));e[i].children[0].tabIndex="-1",e[n].children[0].tabIndex="0"},T=function(){var e=W(b.find(r.current,'[data-pc-section="indicator"]')),n=b.findSingle(r.current,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex((function(e){return e===n.parentElement}))},j=function(e,n){var t=W(b.find(r.current,'[data-pc-section="indicator"]'));t[e].children[0].tabIndex="-1",t[n].children[0].tabIndex="0",t[n].children[0].focus()};c((function(){n.autoPlay&&n.startSlideShow()}));var k,A=function(i){var r,l="p-galleria-indicator-"+i,o=n.activeItemIndex===i,c=n.indicator&&n.indicator(i),m=a({className:u("indicator",{isActive:o}),key:l,tabIndex:0,"aria-label":(r=i+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,r):void 0),"aria-selected":n.activeIndex===i,"aria-controls":n.id+"_item_"+i,"data-p-highlight":o,onClick:function(){return v(i)},onMouseEnter:function(){return g(i)},onKeyDown:function(e){return I(e,i)}},s("indicator"));return c||(c=e.createElement("button",{tabIndex:n.activeIndex===i?"0":"-1",type:"button",className:"p-link"},e.createElement(S,null))),e.createElement("li",m,c)},D=n.itemTemplate&&n.itemTemplate(n.value[n.activeItemIndex]),R=function(){if(n.showItemNavigators){var t=!n.circular&&0===n.activeItemIndex,i=a({className:u("previousItemIcon")},s("previousItemIcon")),r=h.getJSXIcon(n.itemPrevIcon||e.createElement(O,i),z({},i),{props:n}),l=a({type:"button",className:u("previousItemButton",{isDisabled:t}),onClick:p,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},s("previousItemButton"));return e.createElement("button",l,r,e.createElement(S,null))}return null}(),V=function(){if(n.showItemNavigators){var t=!n.circular&&n.activeItemIndex===n.value.length-1,i=a({className:u("nextItemIcon")},s("nextItemIcon")),r=h.getJSXIcon(n.itemNextIcon||e.createElement(E,i),z({},i),{props:n}),l=a({type:"button",className:u("nextItemButton",{isDisabled:t}),onClick:d,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},s("nextItemButton"));return e.createElement("button",l,r,e.createElement(S,null))}return null}(),B=function(){var t=a({className:u("caption")},s("caption"));if(n.caption){var i=n.caption(n.value[n.activeItemIndex]);return e.createElement("div",t,i)}return null}(),H=function(){if(n.showIndicators){for(var t=[],i=a({className:f(n.indicatorsContentClassName,u("indicators"))},s("indicators")),l=0;l<n.value.length;l++)t.push(A(l));return e.createElement("ul",C({ref:r},i),t)}return null}(),U=a({ref:i,className:u("itemWrapper")},s("itemWrapper")),_=a({className:u("itemContainer")},s("itemContainer")),G=a({className:u("item"),id:n.id+"_item_"+n.activeItemIndex,role:"group","aria-label":(k=n.activeItemIndex+1,t("aria")?t("aria").slideNumber.replace(/{slideNumber}/g,k):void 0),"aria-roledescription":t("aria")?t("aria").slide:void 0},s("item"));return e.createElement("div",U,e.createElement("div",_,R,e.createElement("div",G,D),V,B),H)})));function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}J.displayName="GalleriaItem";var Y=e.memo((function(n){var i,a=n.ptm,r=n.cx,l=function(e,t){return a(e,K({hostName:n.hostName},t))},o=function(){var e=b.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=p();d(t,t+1===e.length?e.length-1:t+1)},c=function(){var e=p();d(e,e-1<=0?0:e-1)},u=function(){var e=p();d(e,0)},s=function(){var e=b.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=p();d(t,e.length-1)},m=function(){var e=W(b.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=e.findIndex((function(e){return!0===b.getAttribute(e,"data-p-active")})),i=b.findSingle(n.itemsContainerRef.current,'[tabindex="0"]'),a=e.findIndex((function(e){return e===i.parentElement}));e[a].children[0].tabIndex="-1",e[t].children[0].tabIndex="0"},p=function(){var e=W(b.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=b.findSingle(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return e.findIndex((function(e){return e===t.parentElement}))},d=function(e,t){var i=b.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]');i[e].children[0].tabIndex="-1",i[t].children[0].tabIndex="0",i[t].children[0].focus()},h=n.template&&n.template(n.item),v=g({className:f(n.className,r("thumbnailItem",{subProps:n})),key:"p-galleria-thumbnail-item-"+n.index,role:"tab","data-p-active":n.current,"aria-selected":n.current,"aria-controls":n.containerId+"_item_"+n.index,onKeyDown:function(e){switch("Enter"!==e.code&&"Space"!==e.code||(n.onItemClick({originalEvent:e,index:n.index}),e.preventDefault()),e.code){case"ArrowRight":o();break;case"ArrowLeft":c();break;case"Home":u(),e.preventDefault();break;case"End":s(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Tab":m()}},"data-p-galleria-thumbnail-item-current":n.current,"data-p-galleria-thumbnail-item-active":n.active,"data-p-galleria-thumbnail-item-start":n.start,"data-p-galleria-thumbnail-item-end":n.end},l("thumbnailItem")),I=g({className:r("thumbnailItemContent"),tabIndex:n.current?"0":"-1","aria-label":(i=n.index+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,i):void 0),"aria-current":n.current?"page":void 0,onClick:function(e){n.onItemClick({originalEvent:e,index:n.index})}},l("thumbnailItemContent"));return e.createElement("div",v,e.createElement("div",I,h))})),F=e.memo(e.forwardRef((function(a,r){var l=U(e.useState(a.numVisible),2),o=l[0],p=l[1],d=U(e.useState(0),2),f=d[0],x=d[1],y=e.useRef(null),w=e.useRef(null),C=e.useRef(""),T=e.useRef(null),j=e.useRef(null),k=u(o),A=u(a.activeItemIndex),D=e.useContext(i),R=a.ptm,V=a.cx,B=a.sx,H=function(e,n){return R(e,K({hostName:a.hostName},n))},_=U(s({listener:function(){te()},when:a.responsiveOptions}),1)[0],G=function(e){var n=f+e;e<0&&-1*n+o>a.value.length-1?n=o-a.value.length:e>0&&n>0&&(n=0),a.circular&&(e<0&&a.value.length-1===a.activeItemIndex?n=0:e>0&&0===a.activeItemIndex&&(n=o-a.value.length)),y.current&&(b.removeClass(y.current,"p-items-hidden"),y.current.style.transform=a.isVertical?"translate3d(0, ".concat(n*(100/o),"%, 0)"):"translate3d(".concat(n*(100/o),"%, 0, 0)"),y.current.style.transition="transform 500ms ease 0s"),x(n)},L=function(){a.slideShowActive&&a.stopSlideShow&&a.stopSlideShow()},M=function(){var e=Math.floor(o/2);return o%2?e:e-1},X=function(e){L();var n=0!==a.activeItemIndex?a.activeItemIndex-1:0;o-(n+f)-1>M()&&(-1*f!=0||a.circular)&&G(1),a.onActiveItemChange({index:a.circular&&0===a.activeItemIndex?a.value.length-1:n}),e.cancelable&&e.preventDefault()},z=function(e){L();var n=a.activeItemIndex+1;n+f>M()&&(-1*f<ee()-1||a.circular)&&G(-1),a.onActiveItemChange({index:a.circular&&a.value.length-1===a.activeItemIndex?0:n}),e.cancelable&&e.preventDefault()},J=function(e){L();var n=e.index;if(n!==a.activeItemIndex){var t=n+f,i=0;n<a.activeItemIndex?(i=o-t-1-M())>0&&-1*f!=0&&G(i):(i=M()-t)<0&&-1*f<ee()-1&&G(i),a.onActiveItemChange({index:n})}},Z=function(e){y.current&&"transform"===e.propertyName&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&b.addClass(y.current,"p-items-hidden"),y.current.style.transition="")},F=function(e){var n=e.changedTouches[0];w.current={x:n.pageX,y:n.pageY}},$=function(e){e.cancelable&&e.preventDefault()},q=function(e){var n=e.changedTouches[0];Q(e,a.isVertical?n.pageY-w.current.y:n.pageX-w.current.x)},Q=function(e,n){n<0?z(e):X(e)},ee=function(){return a.value.length>o?a.value.length-o+1:0},ne=function(){T.current||(T.current=b.createInlineStyle(D&&D.nonce||n.nonce,D&&D.styleContainer));var e='\n            [data-pc-section="thumbnailitems"]['.concat(C.current,'] {\n                [data-pc-section="thumbnailitem"] {\n                    flex: 1 0 ').concat(100/o,"%\n                }\n            } \n        ");if(a.responsiveOptions){var t=I.localeComparator(D&&D.locale||n.locale);j.current=W(a.responsiveOptions),j.current.sort((function(e,i){return I.sort(e.breakpoint,i.breakpoint,-1,t,D&&D.nullSortOrder||n.nullSortOrder)}));for(var i=0;i<j.current.length;i++){var r=j.current[i];e+="\n                    @media screen and (max-width: ".concat(r.breakpoint,') {\n                        [data-pc-section="thumbnailitems"][').concat(C.current,'] {\n                            [data-pc-section="thumbnailitem"] {\n                                flex: 1 0 ').concat(100/r.numVisible,"%\n                            }\n                        } \n                    }\n                ")}}T.current.innerHTML=e},te=function(){if(y.current&&j.current){for(var e=window.innerWidth,n={numVisible:a.numVisible},t=0;t<j.current.length;t++){var i=j.current[t];parseInt(i.breakpoint,10)>=e&&(n=i)}o!==n.numVisible&&p(n.numVisible)}};c((function(){y.current&&(C.current=v(),y.current.setAttribute(C.current,"")),ne(),te(),_()})),m((function(){var e=f;k===o&&A===a.activeItemIndex||((e=a.activeItemIndex<=M()?0:a.value.length-o+M()<a.activeItemIndex?o-a.value.length:a.value.length-o<a.activeItemIndex&&o%2==0?-1*a.activeItemIndex+M()+1:-1*a.activeItemIndex+M())!==f&&x(e),y.current.style.transform=a.isVertical?"translate3d(0, ".concat(e*(100/o),"%, 0)"):"translate3d(".concat(e*(100/o),"%, 0, 0)"),A!==a.activeItemIndex&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&b.removeClass(y.current,"p-items-hidden"),y.current.style.transition="transform 500ms ease 0s"))}));var ie,ae,re,le,oe,ce,ue,se=function(){if(a.showThumbnailNavigators){var n=!a.circular&&0===a.activeItemIndex||a.value.length<=o,i=g({className:V("previousThumbnailIcon")},H("previousThumbnailIcon")),r=h.getJSXIcon(a.isVertical?a.prevThumbnailIcon||e.createElement(P,i):a.prevThumbnailIcon||e.createElement(O,i),K({},i),{props:a}),l=g({className:V("previousThumbnailButton",{isDisabled:n}),onClick:X,type:"button",disabled:n,"data-p-disabled":n,"aria-label":t("aria")?t("aria").previousPageLabel:void 0,"data-pc-group-section":"thumbnailnavigator"},H("previousThumbnailButton"));return e.createElement("button",l,r,e.createElement(S,null))}return null},me=function(){if(a.showThumbnailNavigators){var n=!a.circular&&a.activeItemIndex===a.value.length-1||a.value.length<=o,i=g({className:V("nextThumbnailIcon")},H("nextThumbnailIcon")),r=h.getJSXIcon(a.isVertical?a.nextThumbnailIcon||e.createElement(N,i):a.nextThumbnailIcon||e.createElement(E,i),K({},i),{props:a}),l=g({className:V("nextThumbnailButton",{isDisabled:n}),disabled:n,type:"button","aria-label":t("aria")?t("aria").nextPageLabel:void 0,onClick:z,"data-p-disabled":n,"data-pc-group-section":"thumbnailnavigator"},H("nextThumbnailButton"));return e.createElement("button",l,r,e.createElement(S,null))}return null},pe=(ie=a.value.map((function(n,t){var i=-1*f,r=i+o-1;return e.createElement(Y,{key:t,index:t,containerId:a.containerId,itemsContainerRef:y,template:a.itemTemplate,item:n,active:i<=t&&r>=t,start:i===t,end:r===t,onItemClick:J,current:a.activeItemIndex===t,ptm:R,cx:V,sx:B})})),ae=a.isVertical?a.contentHeight:"",re=se(),le=me(),oe=g({className:V("thumbnailContainer")},H("thumbnailContainer")),ce=g({className:V("thumbnailItemsContainer"),style:B("thumbnailItemsContainer",{height:ae})},H("thumbnailItemsContainer")),ue=g({ref:y,className:V("thumbnailItems"),role:"tablist",onTransitionEnd:Z,onTouchStart:F,onTouchMove:$,onTouchEnd:q},H("thumbnailItems")),e.createElement("div",oe,re,e.createElement("div",ce,e.createElement("div",ue,ie)),le)),de=g({className:V("thumbnailWrapper")},H("thumbnailWrapper"));return e.createElement("div",de,pe)})));function $(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$(Object(t),!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}Y.displayName="GalleriaThumbnailItem",F.displayName="GalleriaThumbnails";var Q=e.memo(e.forwardRef((function(a,o){var c=e.useContext(i),u=_.getProps(a,c),s=U(e.useState(!1),2),m=s[0],O=s[1],E=U(e.useState(u.numVisible),2),N=E[0],P=E[1],T=U(e.useState(!1),2),j=T[0],k=T[1],A=U(e.useState(u.activeIndex),2),D=A[0],R=A[1],V=e.useRef(null),B=e.useRef(null),H=e.useRef(null),G=u.onItemChange?u.activeIndex:D,L="left"===u.thumbnailsPosition||"right"===u.thumbnailsPosition,M=u.id||v(),W=_.setMetaData({props:u,state:{visible:m,numVisible:N,slideShowActive:j,activeIndex:D}}),X=W.ptm,z=W.cx,Z=W.sx,K=W.isUnstyled;r(_.css.styles,K,{name:"galleria"}),p((function(){Y({index:u.circular&&u.value.length-1===G?0:G+1})}),u.transitionInterval,j);var Y=function(e){e.index>=u.value.length?oe():u.onItemChange?u.onItemChange(e):R(e.index)},$=function(){O(!0)},Q=function(){O(!1)},ee=function(){b.blockBodyScroll()},ne=function(){x.set("modal",H.current,c&&c.autoZIndex||n.autoZIndex,u.baseZIndex||c&&c.zIndex.modal||n.zIndex.modal),!K()&&b.addMultipleClasses(H.current,"p-component-overlay p-component-overlay-enter")},te=function(){u.onShow&&u.onShow()},ie=function(){b.unblockBodyScroll(),!K()&&b.addClass(H.current,"p-component-overlay-leave")},ae=function(){x.clear(H.current),u.onHide&&u.onHide()},re=function(){return j},le=function(){k(!0)},oe=function(){k(!1)},ce=function(e,n){var t=["top","left","bottom","right"].find((function(e){return e===n}));return t?"".concat(e,"-").concat(t):""};e.useEffect((function(){u.value&&u.value.length<N&&P(u.value.length)}),[u.value,N]),e.useEffect((function(){P(u.numVisible)}),[u.numVisible]),d((function(){j&&oe(),x.clear(H.current)})),e.useImperativeHandle(o,(function(){return{props:u,show:$,hide:Q,isAutoPlayActive:re,startSlideShow:le,stopSlideShow:oe,getElement:function(){return V.current},getPreviewContent:function(){return B.current}}}));return I.isNotEmpty(u.value)&&function(){var n,i,a,r,o,s,p,d,b,v,I,x,O=(a=u.showThumbnails&&ce("p-galleria-thumbnails",u.thumbnailsPosition),r=u.showIndicators&&ce("p-galleria-indicators",u.indicatorsPosition),o=g({className:z("closeIcon"),"aria-hidden":!0},X("closeIcon")),s=h.getJSXIcon(u.closeIcon||e.createElement(y,o),q({},o),{props:u}),p=g({type:"button",className:z("closeButton"),"aria-label":t("aria")?t("aria").close:void 0,onClick:Q},X("closeButton")),d=u.fullScreen&&e.createElement("button",p,s,e.createElement(S,null)),n=g({className:z("header")},X("header")),b=u.header?e.createElement("div",n,u.header):null,i=g({className:z("footer")},X("footer")),v=u.footer?e.createElement("div",i,u.footer):null,I=g({ref:V,id:M,className:f(u.className,z("root",{context:c,thumbnailsPosClassName:a,indicatorPosClassName:r})),style:u.style,role:"region"},_.getOtherProps(u),X("root")),x=g({className:z("content"),"aria-live":u.autoPlay?"polite":"off"},X("content")),e.createElement("div",I,d,b,e.createElement("div",x,e.createElement(J,{hostName:"Galleria",ref:B,id:M,value:u.value,activeItemIndex:G,onActiveItemChange:Y,itemTemplate:u.item,circular:u.circular,caption:u.caption,showIndicators:u.showIndicators,itemPrevIcon:u.itemPrevIcon,itemNextIcon:u.itemNextIcon,changeItemOnIndicatorHover:u.changeItemOnIndicatorHover,indicator:u.indicator,showItemNavigators:u.showItemNavigators,autoPlay:u.autoPlay,slideShowActive:j,startSlideShow:le,stopSlideShow:oe,ptm:X,cx:z}),u.showThumbnails&&e.createElement(F,{hostName:"Galleria",value:u.value,containerId:M,activeItemIndex:G,onActiveItemChange:Y,itemTemplate:u.thumbnail,numVisible:N,nextThumbnailIcon:u.nextThumbnailIcon,prevThumbnailIcon:u.prevThumbnailIcon,responsiveOptions:u.responsiveOptions,circular:u.circular,isVertical:L,contentHeight:u.verticalThumbnailViewPortHeight,showThumbnailNavigators:u.showThumbnailNavigators,autoPlay:u.autoPlay,slideShowActive:j,stopSlideShow:oe,isUnstyled:K,ptm:X,cx:z,sx:Z})),v));if(u.fullScreen){var E=g({className:z("mask",{visibleState:m}),role:"dialog","aria-modal":"true"},X("mask")),P=g({classNames:z("transition"),in:m,timeout:{enter:150,exit:150},options:u.transitionOptions,unmountOnExit:!0,onEnter:ee,onEntering:ne,onEntered:te,onExit:ie,onExited:ae},X("transition")),T=e.createElement("div",C({ref:H},E),e.createElement(l,C({nodeRef:V},P),O));return e.createElement(w,{element:T})}return O}()})));Q.displayName="Galleria";export{Q as Galleria};
