"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),r=require("primereact/componentbase"),n=require("primereact/hooks"),u=require("primereact/utils");function a(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var i=a(e),o=r.ComponentBase.extend({defaultProps:{__TYPE:"Chart",id:null,type:null,data:null,options:null,plugins:null,width:null,height:null,style:null,className:null,children:void 0},css:{classes:{root:function(e){return u.classNames("p-chart",e.props.className)}},inlineStyles:{root:function(e){var t=e.props;return Object.assign({width:t.width,height:t.height},t.style)}},styles:"\n        @layer primereact {\n            .p-chart {\n                position: relative\n            }\n        }\n        "}}),s=function(){try{return Chart}catch(e){return null}}(),c=i.memo(i.forwardRef((function(e,u){var c=n.useMergeProps(),l=i.useContext(t.PrimeReactContext),p=o.getProps(e,l),f=o.setMetaData({props:p}),d=f.ptm,h=f.cx,g=f.sx;r.useHandleStyle(o.css.styles,f.isUnstyled,{name:"chart"});var m=i.useRef(null),y=i.useRef(null),v=i.useRef(null),b=function(){w();var e={type:p.type,data:p.data,options:p.options,plugins:p.plugins};s?y.current=new s(v.current,e):Promise.resolve().then((function(){return a(require("chart.js/auto"))})).then((function(t){w(),v.current&&t&&(y.current=t.default?new t.default(v.current,e):new t(v.current,e))}))},w=function(){y.current&&(y.current.destroy(),y.current=null)};i.useImperativeHandle(u,(function(){return{props:p,getCanvas:function(){return v.current},getChart:function(){return y.current},getBase64Image:function(){return y.current.toBase64Image()},getElement:function(){return m.current},generateLegend:function(){return y.current&&y.current.generateLegend()},refresh:function(){return y.current&&y.current.update()}}})),i.useEffect((function(){b()})),n.useUnmountEffect((function(){w()}));var P=p.ariaLabel||p.options&&p.options.plugins&&p.options.plugins.title&&p.options.plugins.title.text,C=c({id:p.id,ref:m,style:g("root"),className:h("root")},o.getOtherProps(p),d("root")),O=c({ref:v,width:p.width,height:p.height,role:"img","aria-label":P},d("canvas"));return i.createElement("div",C,i.createElement("canvas",O))})),(function(e,t){return e.data===t.data&&e.options===t.options&&e.type===t.type}));c.displayName="Chart",exports.Chart=c;
